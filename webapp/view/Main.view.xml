<mvc:View controllerName="invoice.controller.Main"
    xmlns:mvc="sap.ui.core.mvc" 
    displayBlock="true"
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <Page id="page" title="{i18n>title}">
        <content >
            <Panel id="_IDGenPanel" headerText="{i18n>selectionScreen}">
                <Label id="_IDLabelShipName" labelFor="_IDShipName" text="{i18n>shipName}" class="sapUiSmallMargin" />
                <Input id="_IDShipName" value="{selectionScreen>/ShipName}" width="200px" class="sapUiSmallMarginEnd" > </Input>
                <Label id="_IDLabelCountry"  labelFor="_IDGCountry" text="{i18n>countryName}" class="sapUiSmallMargin" />
                <Select id="slCoutry" selectedKey="{selectionScreen>/CountryKey}" 
                                        forceSelection="false" 
                                        items="{selectionScreen>/Countries}"> 
                        <items>
                            <core:Item id="_IDGenItem" key="{selectionScreen>key}" text="{selectionScreen>text}" /> 
                        </items>
                
                </Select>
                <Button id="btnFilter"  text="{i18n>btnFilter}" 
                                        icon="sap-icon://filter" 
                                        press="onFilter" 
                                        class="sapUiSmallMarginEnd"/>
                <Button id="btnClearFilter"  text="{i18n>btnClearFilter}" 
                                icon="sap-icon://clear-filter" 
                                press="onClearFilter" 
                                class="sapUiSmallMarginEnd"/>
            </Panel>
            <Panel id="_IDGenPanel1" >
                <List id="invoicesList" headerText="{i18n>invoicesHeaderList}" 
                                        class="sapUiResponsiveMargin"
                                        width= "auto"
                                        items= "{/Invoices}">
                    <items>
                        <ObjectListItem id="_IDGenObjectListItem"   title="{shipName} - {Country}"
                                                                    number="{ parts:[ {path:'ExtendedPrice'},
                                                                                    {path:'selectionScreen>/Currency'}],
                                                                            type: 'sap.ui.model.type.Currency',
                                                                            formatOptions :{
                                                                                    showMeasure: false}}"
                                                                    numberUnit= "{selectionScreen>/Currency}"
                                                                    numberState="{=${ExtendedPrice} >100} ? 'Success' : 'Warning'">
                        </ObjectListItem>
                    </items>
                
                </List>
            
            </Panel>
        </content>
    </Page>
</mvc:View>
